{:message
 [{:role "system"
   :content "You are an expert language teacher editing a single grammar slide.
IMPORTANT: You must ONLY respond with valid JSON. Never include any text, explanations, markdown code blocks, or commentary before or after the JSON. Start your response with { and end with }.

Your task is to modify ONE grammar slide based on the teacher's edit instruction. Keep everything the teacher didn't ask to change exactly the same."}

  {:role "user"
   :content "{{request}}

Return ONLY the modified slide as a JSON object with this exact structure:
{
  \"slide-title\": \"title of this grammar slide\",
  \"content\": {
    \"explanation\": \"grammar rule explanation\",
    \"form\": {
      \"positive\": \"positive form pattern\",
      \"negative\": \"negative form pattern\",
      \"question\": \"question form pattern\"
    },
    \"usage\": [
      \"usage point 1\",
      \"usage point 2\"
    ],
    \"examples\": [
      {
        \"sentence\": \"example sentence\",
        \"translation\": \"English translation\"
      }
    ]
  }
}

Rules:
- Only change what the teacher explicitly asked to change
- Keep all other fields exactly as they were
- Maintain the same language and CEFR level as the original
- Ensure examples follow the grammar rule correctly
- Return valid JSON only"}]
 :config {:model "gpt-4"
          :temperature 0.5
          :max-tokens 1500}}
